{"version":3,"sources":["services/auth.js","context.js","pages/auth/Login.js","components/LayoutApp.js","pages/auth/SignUp.js","services/comentario.js","services/destacado.js","components/EditComment.js","pages/auth/Profile.js","components/NewsTemplate.js","pages/Home.js","components/NewsDestacada.js","components/UploadPhotos.js","services/noticia.js","pages/noticia/NewNoticia.js","pages/noticia/EditNoticia.js","pages/noticia/ListNoticias.js","components/NewComment.js","components/NewsDetalle.js","components/NewsComments.js","pages/noticia/Noticia.js","pages/admin/AprobarNoticia.js","pages/admin/DestacarNoticia.js","App.js","serviceWorker.js","index.js"],"names":["baseURL","process","REMOTEURL","service","axios","create","withCredentials","signupService","user","a","post","catch","err","message","response","data","status","loginService","getCurrentUserService","get","logoutService","updateProfileDataService","updateProfileAvatarService","imgLink","profilePicture","MyContext","createContext","Provider","children","useState","setUser","setCtxUser","useEffect","profile","console","log","value","clearCtxUser","Header","Layout","Content","Footer","Sider","SubMenu","Menu","LayoutApp","useContext","logoutProcess","success","style","minHeight","overflow","height","position","left","theme","defaultSelectedKeys","mode","Item","key","icon","PieChartOutlined","to","DesktopOutlined","LoginOutlined","LogoutOutlined","onClick","roleType","UserOutlined","title","FileOutlined","className","marginLeft","padding","backgroundColor","justify","align","Title","level","color","margin","textAlign","Typography","tailFormItemLayout","wrapperCol","xs","span","offset","sm","SignUp","props","Form","useForm","form","showErrors","setShowErrors","showMsg","setShowMsg","onFinish","values","result","history","push","gutter","layout","name","scrollToFirstError","label","rules","required","whitespace","type","hasFeedback","Password","dependencies","getFieldValue","validator","rule","Promise","reject","resolve","htmlType","block","marginTop","REMOTEURLs","Login","password","username","initialValues","remember","prefix","MailOutlined","placeholder","LockOutlined","textDecoration","href","danger","GoogleOutlined","getComentariosService","addComentarioService","noticiaId","comentario","editComentarioService","comentarioId","put","deleteComentarioService","delete","TextArea","Input","successMsg","EditComment","forwardRef","ref","comment","_id","titulo","idNoticia","closeModal","changeData","useImperativeHandle","showAlert","submit","resetFields","initialValue","min","allowClear","rows","Column","Table","confirm","Modal","Profile","updateData","setUpdateData","updateAvatar","setUpdateAvatar","updateTable","setUpdateTable","dataComentarios","setDataComentarios","showEditModal","setShowEditModal","objEditData","setObjEditData","childRef","useRef","formUpdateDataValues","onChangeAvatarUpdate","files","target","formdata","FormData","append","secure_url","comentariosPorUser","getComentariosUser","facebook","twitter","acercaDe","marginBottom","objectFit","width","borderRadius","alt","src","id","onChange","htmlFor","rowKey","record","dataSource","dataIndex","render","text","DateTime","fromISO","createdAt","toLocaleString","DATETIME_SHORT","tituloNoticia","ExclamationCircleOutlined","content","okText","okType","cancelText","centered","onOk","onCancel","showDeleteConfirm","visible","current","Text","NewsTemplate","noticia","news","md","bordered","cover","tipoPresentacion","imgArray","url","light","contenido","length","substring","concat","strong","idUser","fechaParaPublicacion","idComentarios","tipoNoticia","getNoticiaDestacadaService","addNoticiaDestacadaService","deleteNoticiaDestacada","idDestacado","NewsDestacada","dataNews","setDataNews","loading","setLoading","getData","contentStyle","lineHeight","backgroundImage","objectPosition","autoplay","map","cNews","fetcher","fetch","then","r","json","Home","useSWRInfinite","index","previousPageData","error","size","mutate","setSize","isValidating","noticias","isLoadingMore","isReachingEnd","flat","disabled","UploadPhotos","setPhotos","setArrayPhotos","previewVisible","previewImage","previewTitle","fileList","uploaded","state","setState","getBase64","file","reader","FileReader","readAsDataURL","onload","onerror","handlePreview","preview","originFileObj","lastIndexOf","onSuccess","method","body","res","uploadedPicture","uploadButton","listType","onPreview","array","forEach","elem","customRequest","footer","getAllNoticiasByUserParamService","userId","addNoticiaService","getNoticiaService","editNoticiaService","deleteNoticiaService","getAllNoticiasNotApprovedService","approveNoticiaService","getAllNoticiasDestacadasService","Option","Select","currentDate","moment","format","NewNoticia","showLinkInput","setShowLinkInput","arrayImgUrl","setArrayImgUrl","setActualPhoto","defaultValue","hidden","EditNoticia","currentNoticia","setCurrentNoticia","match","params","getNoticia","noticiaAprobada","alert","ListNoticias","deletedNoticia","setDeletedNoticia","noticiasByUser","setNoticiasByUser","deleteNoticia","getNoticiaByUser","NewComment","addedComment","NewsDetalle","fontSize","NewsComments","border","background","author","avatar","shape","datetime","local","toRelative","base","Noticia","showModalAgregar","setShowModalAgregar","setAddedComment","approveNoticia","AprobarNoticia","approvedNoticia","setApprovedNoticia","noticiasNotApproved","setNoticiasNotApproved","getNoticiasNotApproved","cancelType","showApproveConfirm","primary","addNoticiaD","deleteNoticiaD","destacadoId","DestacarNoticia","accionNoticia","setAccionNoticia","noticiasDestacadas","setNoticiasDestacadas","esDestacado","PlusOutlined","showAddConfirm","App","exact","path","component","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1dbcae90.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\nlet baseURL;\r\n\r\nprocess.env.NODE_ENV === \"production\"\r\n  ? (baseURL = process.env.REMOTEURL)\r\n  : (baseURL = process.env.REACT_APP_LOCALHOST)\r\n  \r\nbaseURL = baseURL + \"auth\"\r\n  \r\nconst service = axios.create({ withCredentials: true, baseURL })\r\n\r\nexport const signupService = async user => {\r\n  return await service.post(\"/signup\", user).catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}\r\n  \r\nexport const loginService = async user => {\r\n  return await service.post(\"/login\", user).catch(err => {\r\n    return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}\r\n\r\nexport const getCurrentUserService = async () => {\r\n  return await service.get(\"/currentUser\")\r\n}\r\n\r\nexport const logoutService = async () => {\r\n  return await service.get(\"/logout\")\r\n}\r\n\r\nexport const getProfileExtraDataService = async () => {\r\n  return await service.get(\"/profile\")\r\n}\r\n\r\nexport const updateProfileDataService = async user => {\r\n  return await service.post(\"/profile\", user).catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}\r\n\r\nexport const updateProfileAvatarService = async imgLink => {\r\n  return await service.post(\"/profileAvatar\", {profilePicture:imgLink}).catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}","import React, { createContext, useState, useEffect } from \"react\"\nimport { getCurrentUserService } from \"./services/auth\"\nexport const MyContext = createContext()\n\nexport default function Provider({ children }) {\n  const [user, setUser] = useState(null)\n\n  const setCtxUser = user => setUser(user)\n  const clearCtxUser = () => setUser(null)\n\n  useEffect(() => {\n    async function profile() {\n      const {\n        data: { user }\n      } = await getCurrentUserService()\n      setCtxUser(user)\n    }\n    profile()\n  }, [])\n\n  useEffect(() => {\n    \n    if(!user)\n      console.log(`Se logeo el user ${user}`)\n    else\n      console.log(`loggeado ${user}`)\n    \n  }, [user])\n\n  return (\n    <MyContext.Provider\n      value={{\n        user,\n        setCtxUser,\n        clearCtxUser\n      }}\n    >\n      {children}\n    </MyContext.Provider>\n  )\n}\n","import React, {useState, useContext} from 'react'\r\nimport { Form, Input, Button, Divider, Row, Col, Typography, message} from 'antd';\r\nimport { MailOutlined, LockOutlined, GoogleOutlined } from '@ant-design/icons';\r\nimport {loginService} from \"../../services/auth\"\r\nimport { MyContext } from \"../../context\"\r\n\r\nlet baseURL\r\nconst { Title } = Typography;\r\nconst successMsg = (username) => message.success(`Gracias por entrar ${username}`);\r\n\r\n// process.env.NODE_ENV === \"production\"\r\n//   ? (baseURL = \"https://murmuring-reaches-95521.herokuapp.com\")\r\n//   : (baseURL = \"http://localhost:4000\")\r\n\r\nprocess.env.NODE_ENV === \"production\"\r\n  ? (baseURL = process.env.REMOTEURLs)\r\n  : (baseURL = process.env.REACT_APP_LOCALHOST)\r\n\r\n    \r\n\r\n\r\n  const tailFormItemLayout = {\r\n    wrapperCol: {\r\n      xs: {\r\n        span: 24,\r\n        offset: 0,\r\n      },\r\n      sm: {\r\n        span: 12,\r\n        offset: 6,\r\n      },\r\n    },\r\n  };\r\n\r\nconst Login = (props) => {\r\n    const [form] = Form.useForm();\r\n    const [showErrors, setShowErrors] = useState(false)\r\n    const [showMsg, setShowMsg] = useState(\"\")\r\n    const { setCtxUser } = useContext(MyContext)\r\n\r\n    const onFinish = async values => {    \r\n            setShowErrors(false)\r\n            let result = await loginService(values)\r\n            if(result.status === 200){\r\n                result.data.password = \"\";\r\n                setCtxUser(result.data)\r\n                successMsg(result.data.username);\r\n                props.history.push(\"/\")\r\n            }\r\n            else\r\n            {\r\n                console.log(result)\r\n                setShowErrors(true)\r\n                setShowMsg(result.message)\r\n            }\r\n        };\r\n\r\n    return (\r\n    <div>\r\n        <Form\r\n        name=\"normal_login\"\r\n        form={form}\r\n        layout=\"vertical\"\r\n        className=\"login-form\"\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        >\r\n            <Form.Item\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                rules=\r\n                {[\r\n                    {\r\n                    type: 'email',\r\n                    message: 'El email no es valido',\r\n                    },\r\n                    {\r\n                    required: true,\r\n                    message: 'Favor de introducir su email',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input prefix={<MailOutlined className=\"site-form-item-icon\" />} placeholder=\"usuario@clontomix.com\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                rules={[{ required: true, message: 'Favor de introducir su password!' }]}\r\n            >\r\n                <Input\r\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                type=\"password\"\r\n                placeholder=\"Password...\"\r\n                />\r\n            </Form.Item>\r\n\r\n            \r\n            <Row justify=\"center\">\r\n                <Col {...tailFormItemLayout}>\r\n                    {showErrors && <Title level={5} type=\"warning\">{showMsg}</Title>}\r\n                </Col>\r\n            </Row>\r\n\r\n            <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" block style={{marginTop:\"30px\"}}>\r\n                Log in\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n        \r\n        <Divider>Or</Divider>\r\n\r\n        <Row>\r\n            <Col xs={24} sm={{span:12, offset:6}} >\r\n            <a style={{color: \"white\", textDecoration: \"none !important\"}}href={`${baseURL}auth/google`}>\r\n                <Button danger type='primary' block style={{ marginTop:\"20px\"}}>\r\n                <GoogleOutlined />Login con Google\r\n                </Button>\r\n            </a>\r\n            </Col>\r\n        </Row>\r\n\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Login","import React, {useState, useContext} from 'react'\r\nimport { Layout, Menu, message, Col, Row, Typography} from 'antd';\r\nimport { Link, NavLink } from \"react-router-dom\"\r\nimport {\r\n  DesktopOutlined,\r\n  PieChartOutlined,\r\n  FileOutlined,\r\n  LogoutOutlined,\r\n  LoginOutlined,\r\n  UserOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { logoutService } from \"../services/auth\"\r\nimport { MyContext } from \"../context\"\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst LayoutApp = ({children}) => {\r\n    let [collapsedSlider, setCollapsedSlider] = useState(false)\r\n    const { clearCtxUser, user } = useContext(MyContext)\r\n\r\n    const toCollapse = () => {\r\n        setCollapsedSlider(!collapsedSlider)\r\n    };\r\n\r\n    const logoutProcess = async () => {\r\n        await logoutService()\r\n        clearCtxUser()\r\n        message.success(`Has cerrado tu sesion!`);\r\n      }\r\n\r\n    return (\r\n        <Layout style={{ minHeight: '100vh' }}>\r\n          <Sider \r\n          style={{\r\n            overflow: 'auto',\r\n            height: '100vh',\r\n            position: 'fixed',\r\n            left: 0,\r\n          }}          \r\n          >\r\n            <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n              <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\r\n                <Link to='/'>Home</Link>\r\n              </Menu.Item>\r\n              {!user && <Menu.Item key=\"2\" icon={<DesktopOutlined />}>\r\n                <Link to='/signup'>Signup</Link>\r\n              </Menu.Item>}\r\n              {!user && <Menu.Item key=\"3\" icon={<LoginOutlined />}>\r\n                <Link to='/login'>Login</Link>\r\n              </Menu.Item>}\r\n              {user && <Menu.Item key=\"4\" icon={<DesktopOutlined />}>\r\n                <Link to='/profile'>Mi Perfil</Link>\r\n              </Menu.Item>}\r\n              {user && <Menu.Item key=\"5\" icon={<LogoutOutlined />}>\r\n                <Link to=\"/\" icon={<LogoutOutlined />}onClick={logoutProcess}>logout</Link>\r\n              </Menu.Item>}\r\n              {user && (user.roleType === \"Editor\" || user.roleType === \"Admin\") && <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"User\">\r\n                <Menu.Item key=\"101\"><Link to='/listNoticias'>Mis Noticias</Link></Menu.Item>\r\n                <Menu.Item key=\"100\"><Link to='/newNoticia'>Nueva Noticia</Link></Menu.Item>\r\n                <Menu.Item key=\"102\">Alex</Menu.Item>\r\n              </SubMenu>}\r\n              {user && user.roleType === \"Admin\" && <SubMenu key=\"sub2\" icon={<UserOutlined />} title=\"Admin Menu\">\r\n                <Menu.Item key=\"200\"><Link to='/admin/aprobarNoticia'>Aprobar Noticia</Link></Menu.Item>\r\n                <Menu.Item key=\"201\"><Link to='/admin/destacarNoticia'>Destacar Noticia</Link></Menu.Item>\r\n              </SubMenu>}\r\n              <Menu.Item key=\"9\" icon={<FileOutlined />}><Link to='/logout'>Algo aqui</Link></Menu.Item>\r\n            </Menu>\r\n          </Sider>\r\n          <Layout className=\"site-layout\" style={{ marginLeft: 200 }}>\r\n            <Header className=\"site-layout-background\" style={{ padding: 0, backgroundColor: 'rgb(100,100,100,1)' }}>\r\n                <Row justify = \"center\" align=\"middle\">\r\n                  <Col>\r\n                    <Typography.Title level={1} style={{color:\"White\"}}>ClonTomix</Typography.Title>\r\n                  </Col>\r\n                </Row>\r\n            </Header>\r\n            <Content style={{ margin: '24px 16px 0', overflow: 'initial' }}>\r\n              <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360 }}>\r\n                {children}\r\n              </div>\r\n            </Content>\r\n            <Footer style={{ textAlign: 'center' }}>Clontomix 2020. Creado por D Zam, diseo de Ant D</Footer>\r\n          </Layout>\r\n        </Layout>\r\n      );\r\n  \r\n}\r\n\r\nexport default LayoutApp\r\n","import React, {useState} from 'react'\r\nimport {Form, Input, Button, Row, Col, Typography, message} from 'antd'; \r\n\r\nimport {signupService} from \"../../services/auth\"\r\n\r\nconst { Title } = Typography;\r\nconst successMsg = () => message.success('Gracias por registrarse!');\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 12,\r\n      offset: 6,\r\n    },\r\n  },\r\n};\r\n\r\nconst SignUp = (props) => {\r\n    const [form] = Form.useForm();\r\n    const [showErrors, setShowErrors] = useState(false)\r\n    const [showMsg, setShowMsg] = useState(\"\")\r\n\r\n    const onFinish = async values => {\r\n        setShowErrors(false)\r\n        let result = await signupService(values)\r\n        if(result.status === 200){\r\n          successMsg();\r\n          props.history.push(\"/login\")\r\n        }\r\n        else\r\n        {\r\n            console.log(result)\r\n            setShowErrors(true)\r\n            setShowMsg(result.message)\r\n        }\r\n    };\r\n    \r\n    return (\r\n      <>\r\n        <Row justify=\"center\" gutter={24}>\r\n                <Col {...tailFormItemLayout}>\r\n                    <Title level={3}>Registro</Title>\r\n                </Col>\r\n            </Row>\r\n        <Form\r\n          layout=\"vertical\"\r\n          form={form}\r\n          name=\"register\"\r\n          onFinish={onFinish}\r\n          scrollToFirstError\r\n        >\r\n    \r\n          <Form.Item\r\n            name=\"username\"\r\n            label=\"Nombre\"\r\n            rules={[{ required: true, message: 'Favor de agregar un nombre de usuario', whitespace: true }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"email\"\r\n            label=\"E-mail\"\r\n            rules={[\r\n              {\r\n                type: 'email',\r\n                message: 'El email no es valido',\r\n              },\r\n              {\r\n                required: true,\r\n                message: 'Favor de agregar un email',\r\n              },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n    \r\n          <Form.Item\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Favor de introducir un password',\r\n              },\r\n            ]}\r\n            hasFeedback\r\n          >          \r\n              <Input.Password />\r\n          </Form.Item>\r\n    \r\n          <Form.Item\r\n            name=\"confirmPassword\"\r\n            label=\"Confirm Password\"\r\n            dependencies={['password']}\r\n            hasFeedback\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Favor de confirmar su password',\r\n              },\r\n              ({ getFieldValue }) => ({\r\n                validator(rule, value) {\r\n                  if (!value || getFieldValue('password') === value) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject('Las password no coinciden');\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input.Password />\r\n          </Form.Item>\r\n\r\n          <Row justify=\"center\">\r\n            <Col {...tailFormItemLayout}>\r\n                {showErrors && <Title level={5} type=\"warning\">{showMsg}</Title>}\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Item {...tailFormItemLayout}>\r\n            <Button type=\"primary\" htmlType=\"submit\" block style={{marginTop:\"30px\"}}>\r\n              Register\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </>\r\n      );\r\n}\r\n\r\nexport default SignUp","import axios from \"axios\"\r\n\r\nlet baseURL;\r\n\r\nprocess.env.NODE_ENV === \"production\"\r\n? (baseURL = process.env.REMOTEURL)\r\n: (baseURL = process.env.REACT_APP_LOCALHOST)\r\n\r\nbaseURL = baseURL + \"api/comentario\"\r\n  \r\nconst service = axios.create({ withCredentials: true, baseURL })\r\n\r\nexport const getComentariosService = async () => {\r\n    return await service.get(`/`).catch(err => {\r\n        return {message: err.response?.data?.message, status: err?.status}\r\n    })\r\n}\r\n\r\nexport const addComentarioService = async (noticiaId, comentario) => {\r\n    return await service.post(`/${noticiaId}`, comentario).catch(err => {\r\n        return {message: err.response?.data?.message, status: err?.status}\r\n    })\r\n}\r\n\r\nexport const editComentarioService = async (comentarioId, comentario) => {\r\n    return await service.put(`/${comentarioId}`, comentario).catch(err => {\r\n        return {message: err.response?.data?.message, status: err?.status}\r\n    })\r\n}\r\n\r\nexport const deleteComentarioService = async comentarioId => {\r\n  return await service.delete(`/${comentarioId}`).catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}","import axios from \"axios\"\r\n\r\nlet baseURL;\r\n\r\nprocess.env.NODE_ENV === \"production\"\r\n? (baseURL = process.env.REMOTEURL)\r\n: (baseURL = process.env.REACT_APP_LOCALHOST)\r\n\r\nbaseURL = baseURL + \"api/destacado\"\r\n\r\nconst service = axios.create({ withCredentials: true, baseURL })\r\n\r\nexport const getNoticiaDestacadaService = async () => {\r\n    return await service.get(`/`).catch(err => {\r\n        return {message: err.response?.data?.message, status: err?.status}\r\n    })\r\n}\r\n\r\nexport const addNoticiaDestacadaService = async (idNoticia) => {\r\n    return await service.post(`/`,{idNoticia}).catch(err => {\r\n        return {message: err.response?.data?.message, status: err?.status}\r\n    })\r\n}\r\n\r\nexport const deleteNoticiaDestacada = async (idDestacado) => {\r\n    return await service.delete(`/${idDestacado}`).catch(err => {\r\n        return {message: err.response?.data?.message, status: err?.status}\r\n    })\r\n}","import React, {useState, useEffect,forwardRef, useImperativeHandle} from 'react'\r\nimport { Form, Input, Row, Col, Typography, message } from \"antd\"\r\nimport {editComentarioService} from \"../services/comentario\"\r\n\r\nconst { TextArea } = Input;\r\nconst { Title } = Typography;\r\nconst successMsg = () => message.success('Se edito el comentario satisfactoriamente');\r\n\r\nconst EditComment = forwardRef((props, ref) => {\r\n    const {_id, comentario, idNoticia: {titulo}} = props.comment;\r\n    const {closeModal, changeData} = props\r\n    const [form] = Form.useForm()\r\n    const [showErrors, setShowErrors] = useState(false)\r\n    const [showMsg, setShowMsg] = useState(\"\")\r\n\r\n    useImperativeHandle(\r\n        ref,\r\n        () => ({\r\n            showAlert() {\r\n                form.submit()\r\n            }\r\n         }),\r\n     )\r\n\r\n     useEffect(() => {\r\n        return function cleanup() {\r\n            console.log(\"dismount\")\r\n            form.resetFields([\"comentario\"])\r\n        };\r\n      }, [_id]);\r\n\r\n\r\n      async function submitFormFromChild(values){        \r\n        setShowErrors(false)\r\n        let result = await editComentarioService(_id, values)\r\n        if(result.status === 201 || result.status === 200){\r\n            successMsg();\r\n            closeModal(false)\r\n            changeData(true)\r\n        }\r\n        else\r\n        {\r\n            console.log(result)\r\n            setShowErrors(true)\r\n            setShowMsg(result.message)\r\n        }\r\n      }\r\n\r\n    return (\r\n\r\n        <>\r\n\r\n            <Form layout='vertical' form={form} onFinish={submitFormFromChild}>\r\n                  \r\n                <Form.Item\r\n                    name=\"comentario\"\r\n                    label={`Edita el comentario de la noticia ${titulo}`}\r\n                    initialValue={comentario}\r\n                    rules={[{ min: 10, message:\"Favor de escribir mas de 10 caracteres\" },{ required: true, message: 'Favor de escribir un comentario', whitespace: true }]}\r\n                >\r\n                    <TextArea allowClear rows={8}/>\r\n                </Form.Item>\r\n\r\n                <Row justify=\"center\">\r\n                    <Col xs={24} sm={12}>\r\n                        {showErrors && <Title level={5} type=\"warning\">{showMsg}</Title>}\r\n                    </Col>\r\n                </Row>\r\n                \r\n            </Form>\r\n        </>\r\n\r\n    )\r\n})\r\n\r\nexport default EditComment\r\n","import React, {useState, useEffect, useContext, useRef} from 'react' \r\nimport {Form, Input, Button, Row, Col, Typography, Divider,  message, Table, Modal} from 'antd'; \r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport axios from \"axios\"\r\nimport {updateProfileDataService, updateProfileAvatarService, getCurrentUserService} from \"../../services/auth\"\r\nimport {getComentariosService, deleteComentarioService} from \"../../services/comentario\"\r\nimport { MyContext } from \"../../context\"\r\nimport {DateTime} from \"luxon\"\r\nimport EditComment from \"../../components/EditComment\"\r\n\r\nconst { Title } = Typography;\r\nconst { Column } = Table;\r\nconst { confirm } = Modal;\r\nconst { TextArea } = Input;\r\nconst successMsg = () => message.success('Se actualizo los datos satisfactoriamente');\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {\r\n      xs: {\r\n        span: 24,\r\n        offset: 0,\r\n      },\r\n      sm: {\r\n        span: 12,\r\n        offset: 6,\r\n      },\r\n    },\r\n  };\r\n\r\nconst Profile = () => {\r\n\r\n    const [form] = Form.useForm()\r\n    const [showErrors, setShowErrors] = useState(false)\r\n    const [showMsg, setShowMsg] = useState(\"\")\r\n    \r\n    const [updateData, setUpdateData] = useState(false)\r\n    const [updateAvatar, setUpdateAvatar] = useState(false)\r\n    const [updateTable, setUpdateTable] = useState(false)\r\n    const {setCtxUser, user} = useContext(MyContext)\r\n\r\n    const [dataComentarios, setDataComentarios] = useState(null)\r\n    const [showEditModal, setShowEditModal] = useState(false)\r\n    const [objEditData, setObjEditData] = useState({})\r\n    const childRef = useRef();\r\n    \r\n\r\n    const formUpdateDataValues = async values => {\r\n        let result = await updateProfileDataService(values)\r\n        if(result.status === 201 || result.status === 200){\r\n            successMsg();\r\n            const {\r\n                data: { user }\r\n              } = await getCurrentUserService()\r\n              setCtxUser(user)\r\n            setUpdateData(true)\r\n        }\r\n        else\r\n        {\r\n            console.log(result)\r\n            setShowErrors(true)\r\n            setShowMsg(result.message)\r\n        }\r\n    }\r\n\r\n    const onChangeAvatarUpdate = async ({ target: { files } }) => {\r\n\r\n        const formdata = new FormData()\r\n        formdata.append(\"file\", files[0])\r\n        formdata.append(\"upload_preset\", \"ma1cews4\")\r\n        const {\r\n          data: { secure_url }\r\n        } = await axios.post(process.env.REACT_APP_CLOUDINARY_URL, formdata)\r\n\r\n\r\n        let result = await updateProfileAvatarService(secure_url)\r\n        if(result.status === 201 || result.status === 200){\r\n            successMsg();\r\n            const {\r\n                data: { user }\r\n              } = await getCurrentUserService()\r\n              setCtxUser(user)\r\n            setUpdateAvatar(true)\r\n        }\r\n        else\r\n        {\r\n            console.log(result)\r\n            setShowErrors(true)\r\n            setShowMsg(result.message)\r\n        }\r\n    }\r\n\r\n    function showDeleteConfirm({idNoticia: {titulo: tituloNoticia}, _id: comentarioId}) {\r\n        confirm({\r\n          title: `Eliminar Comentario`,\r\n          icon: <ExclamationCircleOutlined />,\r\n          content: `Desea eliminar el comentario en la noticia ${tituloNoticia}\"?`,\r\n          okText: 'Si',\r\n          okType: 'Primary',\r\n          cancelText: 'No',\r\n          centered: true,\r\n          async onOk() {\r\n            await deleteComentarioService(comentarioId)\r\n            setUpdateTable(true)\r\n          },\r\n          onCancel() {\r\n          },\r\n        });\r\n      }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        async function getComentariosUser(){\r\n            \r\n            let {data: { comentariosPorUser }} = await getComentariosService();\r\n            setDataComentarios(comentariosPorUser)\r\n        }\r\n        \r\n        getComentariosUser()\r\n        \r\n        setUpdateTable(false)\r\n        setUpdateAvatar(false)\r\n        setUpdateData(false)\r\n\r\n    }, [updateData, updateAvatar, updateTable])\r\n\r\n\r\n\r\n\r\n    return (\r\n        \r\n            (user ? \r\n                (\r\n                    <div>\r\n                        <Row gutter={24}>\r\n                            <Col {...tailFormItemLayout}>\r\n                                <Title level={2}>Mi Perfil</Title>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            <Col xs={12}>\r\n                                <Form layout='vertical' form={form} onFinish={formUpdateDataValues}>\r\n                    \r\n                                    <Form.Item\r\n                                        name=\"facebook\"\r\n                                        label={\"Facebook Link\"}\r\n                                        initialValue={user?.facebook}\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>                                    \r\n                                    \r\n                                    <Form.Item\r\n                                        name=\"twitter\"\r\n                                        label={\"Twitter Link\"}\r\n                                        initialValue={user?.twitter}\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>                                    \r\n                                    \r\n                                    <Form.Item\r\n                                        name=\"acercaDe\"\r\n                                        label={\"Acerca de ti\"}\r\n                                        initialValue={user?.acercaDe}\r\n                                    >\r\n                                        <TextArea allowClear rows={4}/>\r\n                                    </Form.Item>\r\n                    \r\n                                    <Row justify=\"center\">\r\n                                        <Col xs={24}>\r\n                                            {showErrors && <Title level={5} type=\"warning\">{showMsg}</Title>}\r\n                                        </Col>\r\n                                    </Row>                    \r\n                                    \r\n                                    <Form.Item {...tailFormItemLayout}>\r\n                                        <Button type=\"primary\" htmlType=\"submit\" block style={{marginTop:\"30px\"}}>\r\n                                            Actualizar Datos\r\n                                        </Button>\r\n                                    </Form.Item>\r\n\r\n                                </Form>\r\n                            </Col>\r\n                            <Col xs={12} >\r\n                                <Row justify=\"center\" align=\"middle\" style={{marginBottom:\"40px\"}}>\r\n                                    <img style={{objectFit:\"cover\", width:\"300px\", height:\"300px\", borderRadius:\"200px\"}} alt=\"perfil\" src={user?.profilePicture}></img>\r\n\r\n                                </Row>\r\n                                <Row justify=\"center\" align=\"middle\">\r\n                                    <input type=\"file\" id=\"file\" onChange={onChangeAvatarUpdate}/> \r\n                                    <label htmlFor=\"file\">Upload</label>\r\n                                </Row>\r\n                                \r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Divider />\r\n\r\n                        <Row justify=\"center\" gutter={24}>\r\n                            <Col {...tailFormItemLayout}>\r\n                                <Title level={3}>Mis comentarios </Title>\r\n                            </Col>\r\n                        </Row>\r\n                            \r\n                        <Table key={\"comentarios\"} rowKey={record => record._id} dataSource={dataComentarios}>\r\n                            <Column title=\"Titulo de la Noticia\" dataIndex=\"idNoticia.titulo\" key=\"idNoticia.titulo\" \r\n                            render={(text, record) => (\r\n                                record.idNoticia.titulo\r\n                            )}\r\n\r\n\r\n                            />\r\n                            <Column title=\"Comentario\" dataIndex=\"comentario\" key=\"comentario\" />\r\n\r\n                            <Column title=\"Fecha\" dataIndex=\"createdAt\" key=\"createdAt\" \r\n                            render={(text, record) => (\r\n                                DateTime.fromISO(record.createdAt).toLocaleString(DateTime.DATETIME_SHORT)\r\n                            )}\r\n                            />\r\n                            <Column\r\n                                title=\"Editar Comentario\"\r\n                                key=\"Editar\"\r\n                                render={(text, record) => (\r\n                                    <>\r\n                                        <Button onClick={() => {\r\n                                            setShowEditModal(true)\r\n                                            setObjEditData(record)\r\n                                        }}  type=\"primary\">\r\n                                            Editar\r\n                                        </Button>\r\n                                    </>\r\n                            )}\r\n                            />\r\n                            <Column\r\n                                title=\"Borrar Comentario\"\r\n                                key=\"Borrar\"\r\n                                render={(text, record) => (\r\n                                    <>\r\n                                        <Button onClick={() => showDeleteConfirm(record)} type=\"danger\">\r\n                                            Borrar\r\n                                        </Button>\r\n                                    </>\r\n                            )}\r\n                            />\r\n                        </Table>\r\n                        \r\n                        <Modal\r\n                                centered\r\n                                title={'Agrega Comentario a ' + objEditData?.idNoticia?.titulo}\r\n                                visible={showEditModal}\r\n                                onCancel={() => setShowEditModal(false)}\r\n                                onOk={() => {\r\n                                    childRef.current.showAlert()\r\n                                }}\r\n                                okType=\"primary\"\r\n                                width={700}\r\n                            >\r\n                                <EditComment ref={childRef} comment={objEditData} closeModal={setShowEditModal} changeData={setUpdateTable}/>\r\n                            </Modal>\r\n\r\n                    </div>\r\n                ) \r\n                : \r\n                (\r\n                    <div></div>\r\n                ))\r\n\r\n        \r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport {Row, Col, Typography, Card, Divider, Image} from \"antd\"\r\nimport ReactPlayer from \"react-player\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { DateTime } from \"luxon\"\r\n\r\nconst { Title, Text } = Typography;\r\n\r\n const NewsTemplate = (props) => {\r\n\r\n    let noticia = props.news;\r\n\r\n    return (\r\n        <>\r\n            <Col sm={24} md={{span:16, offset:4}}>\r\n                \r\n                    <Card \r\n                        style={{marginBottom:\"30px\", minHeight:\"400px\"}}\r\n                        title={<Title level={3}>{noticia.titulo}</Title>} \r\n                        bordered={false}\r\n                        cover=\r\n                        {\r\n                            (noticia.tipoPresentacion === \"Imagen\") ? \r\n                            (\r\n                                <center>\r\n                                    <img \r\n                                    style={{marginTop:\"30px\"}}\r\n                                        alt=\"example\"\r\n                                        src={noticia.imgArray?.[0]}\r\n                                    />\r\n                                </center>\r\n                            ) \r\n                            :\r\n                            (\r\n                                <center><ReactPlayer url='https://youtu.be/n25nqibaIDg' style={{marginTop:\"30px\"}} light={true}/></center>\r\n                            )\r\n                        }\r\n                    \r\n                    >\r\n                        <Row gutter={[0, 50]}>\r\n                            <Col>\r\n                                {noticia.contenido.length > 500 ? noticia.contenido.substring(0,497).concat(\"...\") :  noticia.contenido}\r\n                            </Col>\r\n                        </Row>\r\n                        <Divider></Divider>\r\n                        <Row>\r\n                            <Col span={12}>\r\n                                <Text strong>Autor:</Text> {noticia.idUser.username}\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Text strong>Fecha de Publicacion:</Text> {DateTime.fromISO(noticia.fechaParaPublicacion).toLocaleString()}\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col span={12}>\r\n                                <Text strong>{noticia.idComentarios.length}</Text> comentario(s) \r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Text strong>Tipo de Noticia:</Text> {noticia.tipoNoticia}\r\n                            </Col>\r\n                        </Row>\r\n                        <Row gutter={20}>\r\n                            <Col justify=\"center\" align=\"middle\"  style={{marginTop:\"20px\"}}span={24}>\r\n                                <Title level={3}>\r\n                                    <Link to={`/noticia/${noticia._id}`}>\r\n                                        Ir a leer la noticia\r\n                                    </Link>\r\n                                </Title> \r\n                            </Col>\r\n                        </Row>\r\n                </Card>\r\n            </Col>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NewsTemplate;","import React, {useEffect} from 'react'\r\nimport {Typography, Row, Col, Divider} from \"antd\"\r\nimport { useSWRInfinite } from \"swr\"\r\nimport NewsTemplate from \"../components/NewsTemplate\"\r\nimport NewsDestacada from \"../components/NewsDestacada\"\r\n\r\nconst { Title } = Typography;\r\nconst fetcher = url => fetch(url).then(r => r.json())\r\nconst PAGE_SIZE = 10;\r\nlet baseURL;\r\nprocess.env.NODE_ENV === \"production\"\r\n? (baseURL = process.env.REMOTEURL)\r\n: (baseURL = process.env.REACT_APP_LOCALHOST)\r\nconsole.log(baseURL)\r\n\r\nconst Home = () => {\r\n    \r\n    const { data, error, mutate, size, setSize, isValidating } = useSWRInfinite((index, previousPageData) => {\r\n        if (previousPageData && previousPageData.length === 0) \r\n            return null\r\n\r\n        return `${baseURL}api/noticia/pagination?page=${index}`\r\n    }, fetcher)\r\n\r\n    const news = data ? data.map(({ noticias }) => noticias) : []\r\n    const isLoadingInitialData = !data && !error;\r\n    const isLoadingMore = isLoadingInitialData ||\r\n                          (size > 0 && data && typeof data[size - 1] === \"undefined\");\r\n    const isEmpty = data?.[0]?.length === 0;\r\n    const isReachingEnd = isEmpty || \r\n                          (data && data?.length < PAGE_SIZE);\r\n    \r\n    console.log(news)\r\n                        /* <h4 key={cNews._id}><Link to={`/noticia/${cNews._id}`}>{cNews.titulo}</Link></h4> \r\n                         \r\n                         */\r\n    return !data ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        <>\r\n            <div>\r\n                <Row justify=\"center\">\r\n                    <Col sm={24} md={{span:16}}>\r\n                        <NewsDestacada/>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div>\r\n                <Row justify=\"center\" gutter={30}>\r\n                    <Col>\r\n                        <Title level={1}>Noticias:</Title>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {news?.flat()?.map(cNews => (\r\n                    <NewsTemplate key={cNews._id} news={cNews}></NewsTemplate>\r\n                   \r\n                ))}\r\n            </div>\r\n            <div>\r\n                <button\r\n                    disabled={isLoadingMore || isReachingEnd}\r\n                    onClick={() => setSize(size + 1)}\r\n                    >\r\n                    {isLoadingMore\r\n                        ? \"loading...\"\r\n                        : isReachingEnd\r\n                        ? \"no more issues\"\r\n                        : \"load more\"}\r\n                </button>\r\n            </div>\r\n        </>\r\n      )\r\n}\r\n\r\nexport default Home\r\n","import React, {useState, useEffect} from 'react'\r\nimport { Carousel} from 'antd';\r\nimport {getNoticiaDestacadaService} from \"../services/destacado\"\r\n\r\nconst NewsDestacada = () => {\r\n\r\n    const [dataNews, setDataNews] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n\r\n        async function getData(){            \r\n            let {data} = await getNoticiaDestacadaService();\r\n            setDataNews(data)\r\n            setLoading(false)\r\n        }\r\n        getData()\r\n        return function cleanup() {\r\n        };\r\n      },[]);\r\n\r\n      const contentStyle = {\r\n        height: '160px',\r\n        color: '#fff',\r\n        lineHeight: '160px',\r\n        textAlign: 'center',\r\n        backgroundImage: 'url(\"https://i.pinimg.com/originals/2d/6d/39/2d6d3954cab6327de170f05c266cac36.png\")',        \r\n        objectPosition: \"center\",\r\n        objectFit: \"cover\"\r\n      };\r\n\r\n        if(loading)\r\n        return <>Loading</> \r\n\r\n        if(!loading && !dataNews)\r\n        return <></> \r\n\r\n        if (!loading && dataNews)\r\n        return (\r\n            <Carousel autoplay>\r\n            {dataNews?.map(cNews => (\r\n                <div name=\"Hola\" key={cNews._id}>\r\n                    <h3 style={contentStyle}>{cNews.idNoticia.titulo}</h3>\r\n                </div>\r\n        \r\n            ))}\r\n            </Carousel>\r\n\r\n        )\r\n\r\n        return (<></>)\r\n}\r\n    \r\n\r\n\r\nexport default NewsDestacada\r\n","import React, { useState } from \"react\";\r\nimport { Upload, Modal } from \"antd\";\r\n\r\nfunction UploadPhotos({ setPhotos, setArrayPhotos }) {\r\n  const [state, setState] = useState({\r\n    previewVisible: false,\r\n    previewImage: \"\",\r\n    previewTitle: \"\",\r\n    fileList: [],\r\n    uploaded: [],\r\n  });\r\n\r\n  const handleCancel = () => setState({ ...state, previewVisible: false });\r\n\r\n  function getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n  }\r\n\r\n  const handlePreview = async (file) => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      previewImage: file.url || file.preview,\r\n      previewVisible: true,\r\n      previewTitle:\r\n        file.name || file.url.substring(file.url.lastIndexOf(\"/\") + 1),\r\n    });\r\n  };\r\n\r\n  const handleChange = ({ fileList }) => {\r\n    \r\n    setState({ ...state, fileList })\r\n    let array= [];\r\n    if(fileList.length !== 0)\r\n    {\r\n        fileList.forEach((elem, index)=>{\r\n          array.push(elem?.response?.secure_url)\r\n        })\r\n        setArrayPhotos(array)\r\n    }\r\n    else{\r\n      setArrayPhotos(array)\r\n    }\r\n  \r\n  };\r\n\r\n  async function customRequest({ file, onSuccess }) {\r\n    try {\r\n      const data = new FormData();\r\n      data.append(\"file\", file);\r\n      data.append(\"upload_preset\", \"ma1cews4\");\r\n      const res = await fetch(\r\n        process.env.REACT_APP_CLOUDINARY_URL,\r\n        {\r\n          method: \"POST\",\r\n          body: data,\r\n        }\r\n      );\r\n      const uploadedPicture = await res.json();\r\n      setPhotos(uploadedPicture.secure_url);\r\n      onSuccess(uploadedPicture, file);\r\n    } catch (err) {\r\n      throw (err);\r\n    }\r\n  }\r\n\r\n  const { previewVisible, previewImage, fileList, previewTitle } = state;\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      <div className=\"ant-upload-text\">Upload photo</div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"clearfix\">\r\n      <Upload\r\n        listType=\"picture-card\"\r\n        fileList={fileList}\r\n        onPreview={handlePreview}\r\n        onChange={handleChange}\r\n        customRequest={customRequest}\r\n      >\r\n        {fileList.length >= 8 ? null : uploadButton}\r\n      </Upload>\r\n      <Modal\r\n        visible={previewVisible}\r\n        title={previewTitle}\r\n        footer={null}\r\n        onCancel={handleCancel}\r\n      >\r\n        <img alt=\"example\" style={{ width: \"100%\" }} src={previewImage} />\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UploadPhotos;","import axios from \"axios\"\r\n\r\nlet baseURL;\r\n\r\nprocess.env.NODE_ENV === \"production\"\r\n  ? (baseURL = process.env.REMOTEURL)\r\n  : (baseURL = process.env.REACT_APP_LOCALHOST)\r\n\r\nbaseURL = baseURL + \"api/noticia\"\r\n  \r\nconst service = axios.create({ withCredentials: true, baseURL })\r\n\r\nexport const getAllNoticiasNoPageService = async () => {\r\n  return await service.get(\"/\").catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}\r\n\r\nexport const getAllNoticiasByUserService = async () => {\r\n  return await service.get(\"/user\").catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}\r\n\r\nexport const getAllNoticiasByUserParamService = async (userId) => {\r\n  return await service.get(`/user/${userId}`).catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}\r\n\r\nexport const addNoticiaService = async noticia => {\r\n    return await service.post(\"/\", noticia).catch(err => {\r\n        return {message: err.response?.data?.message, status: err?.status}\r\n    })\r\n}\r\n\r\nexport const getNoticiaService = async noticiaId => {\r\n    return await service.get(`/detail/${noticiaId}`).catch(err => {\r\n        return {message: err.response?.data?.message, status: err?.status}\r\n    })\r\n}\r\n\r\nexport const editNoticiaService = async noticia => {\r\n    return await service.put(`/edit/${noticia.noticiaId}`, noticia).catch(err => {\r\n        return {message: err.response?.data?.message, status: err?.status}\r\n    })\r\n}\r\n\r\nexport const deleteNoticiaService = async noticiaId => {\r\n  return await service.delete(`/delete/${noticiaId}`).catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}\r\n\r\nexport const getAllNoticiasNotApprovedService = async () => {\r\n  return await service.get(`/notApproved`).catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}\r\n\r\nexport const approveNoticiaService = async noticiaId => {\r\n  return await service.put(`/approved/${noticiaId}`).catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}\r\n\r\nexport const getAllNoticiasDestacadasService = async () => {\r\n  return await service.get(`/noticiasDestacadas`).catch(err => {\r\n      return {message: err.response?.data?.message, status: err?.status}\r\n  })\r\n}","import React, {useState} from 'react'\r\nimport {Form, Input, Button, Row, Col, Typography, DatePicker, Select, message, Space} from 'antd'; \r\nimport UploadPhotos from \"../../components/UploadPhotos\"\r\nimport {addNoticiaService} from \"../../services/noticia\"\r\nimport moment from \"moment\"\r\n\r\nconst { TextArea } = Input;\r\nconst { Option } = Select\r\nconst { Title } = Typography;\r\nconst dateFormat = 'DD/MM/YYYY';\r\nconst currentDate = moment().format(dateFormat)\r\nconst successMsg = () => message.success('Se agrego la noticia satisfactoriamente');\r\n\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 12,\r\n      offset: 6,\r\n    },\r\n  },\r\n};\r\n\r\n\r\nconst NewNoticia = (props) => {\r\n    const [form] = Form.useForm();\r\n    const [showErrors, setShowErrors] = useState(false)\r\n    const [showMsg, setShowMsg] = useState(\"\")\r\n\r\n    const [showLinkInput, setShowLinkInput] = useState(false)\r\n    const [arrayImgUrl, setArrayImgUrl] = useState([])\r\n    const [actualPhoto, setActualPhoto] = useState(\"\")\r\n\r\n    const onFinish = async values => {\r\n        setShowErrors(false)\r\n\r\n        if(arrayImgUrl.length === 0 && values.tipoPresentacion === \"Imagen\")\r\n        {            \r\n            setShowErrors(true)\r\n            setShowMsg(\"Es necesario agregar imagenes\")\r\n            return false;\r\n        }\r\n\r\n        let result = await addNoticiaService({...values, imgArray: arrayImgUrl})\r\n        if(result.status === 200 || result.status === 201){\r\n            successMsg();\r\n            props.history.push(\"/\")\r\n        }\r\n        else\r\n        {\r\n            console.log(result)\r\n            setShowErrors(true)\r\n            setShowMsg(result.message)\r\n        }\r\n    };\r\n    \r\n    const onChangeSelectTipoPresentacion = () => {\r\n        setShowLinkInput(!showLinkInput)\r\n        console.log(showLinkInput)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Row justify=\"center\" gutter={16}>\r\n                <Col {...tailFormItemLayout}>\r\n                    <Title level={2}>Agregar Noticia</Title>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Form\r\n                layout=\"vertical\"\r\n                form={form}\r\n                name=\"register\"\r\n                onFinish={onFinish}\r\n                scrollToFirstError\r\n            >\r\n  \r\n            <Form.Item\r\n                name=\"titulo\"\r\n                label=\"Titulo de la Noticia\"\r\n                rules={[{ required: true, message: 'Favor de agregar un titulo', whitespace: true }]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"contenido\"\r\n                label=\"Contenido de la Noticia\"\r\n                rules={[{ required: true, message: 'Es necesario agregar contenido a la noticia', whitespace: true }]}\r\n            >\r\n                <TextArea />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"fechaParaPublicacion\"\r\n                label=\"Cuando se publica la noticia\"\r\n            >\r\n                <DatePicker placeholder=\"Elige Fecha\" defaultValue={moment(currentDate, dateFormat)} format={dateFormat}/>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"tipoNoticia\"\r\n                label=\"Tipo de Noticia\"\r\n                initialValue=\"Editorial\"\r\n                rules={[{ required: true, message: 'Es necesario escoger un tipo' }]}\r\n            >\r\n                    <Select >\r\n                        <Option value=\"Editorial\">Editorial</Option>\r\n                        <Option value=\"Rumor\">Rumor</Option>\r\n                        <Option value=\"Review\">Review </Option>\r\n                    </Select>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"tipoPresentacion\"\r\n                label=\"Tipo de Portada (Imagen o Video)\"\r\n                initialValue=\"Imagen\"\r\n                rules={[{ required: true, message: 'Es necesario escoger un tipo de presentacion' }]}\r\n            >\r\n                    <Select onChange={onChangeSelectTipoPresentacion}>\r\n                        <Option value=\"Imagen\">Imagen</Option>\r\n                        <Option value=\"Video\">Video</Option>\r\n                    </Select>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"ytLink\"\r\n                label=\"Link de Video Youtube\"\r\n                hidden={!showLinkInput}\r\n                rules={[{ required:(showLinkInput ? true : false), message: 'Favor de agregar un link', whitespace: true }]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"Imagenes\"\r\n                label=\"Imagenes\"\r\n                hidden={showLinkInput}\r\n            >\r\n                <UploadPhotos setArrayPhotos={setArrayImgUrl} setPhotos={setActualPhoto}></UploadPhotos>\r\n            </Form.Item>\r\n\r\n            \r\n            <Row justify=\"center\">\r\n                <Col {...tailFormItemLayout}>\r\n                    {showErrors && <Title level={5} type=\"warning\">{showMsg}</Title>}\r\n                </Col>\r\n            </Row>\r\n\r\n            <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\" block style={{marginTop:\"30px\"}}>\r\n                    Aadir Noticia\r\n                </Button>\r\n            </Form.Item>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewNoticia","import React, {useState, useEffect} from 'react'\r\nimport {Form, Input, Button, Row, Col, Typography, DatePicker, Select, message} from 'antd'; \r\nimport {getNoticiaService, editNoticiaService} from \"../../services/noticia\"\r\nimport moment from \"moment\"\r\n\r\nconst { TextArea } = Input;\r\nconst { Option } = Select\r\nconst { Title, Text} = Typography;\r\nconst dateFormat = 'DD/MM/YYYY';\r\nconst currentDate = moment().format(dateFormat)\r\nconst successMsg = () => message.success('Se edito la noticia satisfactoriamente');\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 12,\r\n      offset: 6,\r\n    },\r\n  },\r\n};\r\n\r\n\r\nconst EditNoticia = (props) => {\r\n    const [form] = Form.useForm();\r\n    const [showErrors, setShowErrors] = useState(false)\r\n    const [showMsg, setShowMsg] = useState(\"\")\r\n    const [currentNoticia, setCurrentNoticia] = useState(null)\r\n    const noticiaId = props.match.params.noticiaId;\r\n\r\n    const onFinish = async values => {\r\n        setShowErrors(false)\r\n        let result = await editNoticiaService({...values,noticiaId})\r\n        if(result.status === 201){\r\n            successMsg();\r\n            props.history.push(\"/listNoticias\")\r\n        }\r\n        else\r\n        {\r\n            console.log(result)\r\n            setShowErrors(true)\r\n            setShowMsg(result.message)\r\n        }\r\n    };\r\n\r\n    useEffect(()=> {\r\n        async function getNoticia(){\r\n            let {data: result} = await getNoticiaService(noticiaId);\r\n            console.log(result.fechaParaPublicacion)\r\n            setCurrentNoticia(result)\r\n        }\r\n        \r\n        getNoticia()\r\n\r\n    }, [])\r\n\r\n    return (\r\n        currentNoticia ? (\r\n            \r\n        <div>\r\n            <Row justify=\"center\" gutter={16}>\r\n                <Col {...tailFormItemLayout}>\r\n                    <Title level={2}>Editar Noticia</Title>\r\n                </Col>\r\n            </Row>\r\n            \r\n            {!currentNoticia.noticiaAprobada &&\r\n            (<Row justify=\"center\" gutter={16}>\r\n                <Col {...tailFormItemLayout}>\r\n                    <Text level={2} type=\"danger\">Esta noticia aun no ha sido aprobada</Text>\r\n                </Col>\r\n            </Row>)\r\n            }\r\n            <Form\r\n                layout=\"vertical\"\r\n                form={form}\r\n                name=\"register\"\r\n                onFinish={onFinish}\r\n                scrollToFirstError\r\n            >\r\n  \r\n            <Form.Item\r\n                name=\"titulo\"\r\n                label=\"Titulo de la Noticia\"\r\n                initialValue = {currentNoticia.titulo}\r\n                rules={[{ required: true, message: 'Favor de agregar un titulo', whitespace: true }]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"contenido\"\r\n                label=\"Contenido de la Noticia\"\r\n                initialValue = {currentNoticia.contenido}\r\n                rules={[{ required: true, message: 'Es necesario agregar contenido a la noticia', whitespace: true }]}\r\n            >\r\n                <TextArea />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"fechaParaPublicacion\"\r\n                label=\"Cuando se publica la noticia\"\r\n                initialValue = {moment(moment(currentNoticia.fechaParaPublicacion).format(dateFormat), dateFormat)}\r\n            >\r\n                <DatePicker placeholder=\"Elige Fecha\" format={dateFormat}/>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"tipoNoticia\"\r\n                label=\"Tipo de Noticia\"\r\n                initialValue = {currentNoticia.tipoNoticia}\r\n                rules={[{ required: true, message: 'Es necesario escoger un tipo' }]}\r\n            >\r\n                    <Select>\r\n                        <Option value=\"Editorial\">Editorial</Option>\r\n                        <Option value=\"Rumor\">Rumor</Option>\r\n                        <Option value=\"Review\">Review </Option>\r\n                    </Select>\r\n            </Form.Item>\r\n\r\n            \r\n            <Row justify=\"center\">\r\n            <Col {...tailFormItemLayout}>\r\n                {showErrors && <Title level={5} type=\"warning\">{showMsg}</Title>}\r\n            </Col>\r\n            </Row>\r\n\r\n            <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\" block style={{marginTop:\"30px\"}}>\r\n                    Editar Noticia\r\n                </Button>\r\n            </Form.Item>\r\n            </Form>\r\n        </div>\r\n        ):\r\n        (\r\n            <div>Estoy cargando</div>\r\n        )\r\n    )\r\n}\r\n\r\nexport default EditNoticia","import React, {useState, useEffect, useContext} from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { Table, Space, Modal, Button, Row, Col, Typography } from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport {getAllNoticiasByUserParamService, deleteNoticiaService } from \"../../services/noticia\"\r\nimport { MyContext } from \"../../context\"\r\nimport moment from \"moment\"\r\n\r\nconst dateFormat = 'DD/MM/YYYY';\r\nconst { Column } = Table;\r\nconst { confirm } = Modal;\r\nconst { Title } = Typography;\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 12,\r\n      offset: 6,\r\n    },\r\n  },\r\n};\r\n\r\nasync function deleteNoticia(noticiaId)\r\n{\r\n    let result = await deleteNoticiaService(noticiaId)\r\n    if(result.status === 200)\r\n        alert(\"Todo bien\")\r\n    else\r\n    {\r\n        console.log(result)\r\n    }\r\n}\r\n\r\nconst ListNoticias = () => {\r\n    const [deletedNoticia, setDeletedNoticia] = useState(false)\r\n    const [noticiasByUser, setNoticiasByUser] = useState([]);\r\n    const { user } = useContext(MyContext)\r\n    \r\n    function showDeleteConfirm({titulo, _id: noticiaId}) {\r\n        confirm({\r\n          title: `Borrar Noticia`,\r\n          icon: <ExclamationCircleOutlined />,\r\n          content: `En verdad deseas eliminar la noticia: ${titulo}`,\r\n          okText: 'Si',\r\n          okType: 'danger',\r\n          cancelText: 'No',\r\n          onOk() {\r\n            deleteNoticia(noticiaId)\r\n            setDeletedNoticia(true)\r\n          },\r\n          onCancel() {\r\n          },\r\n        });\r\n      }\r\n\r\n    useEffect(()=> {\r\n        async function getNoticiaByUser(){\r\n            let {data: result} = await getAllNoticiasByUserParamService(user?._id);\r\n            setNoticiasByUser(result)\r\n        }\r\n        \r\n        getNoticiaByUser()\r\n        setDeletedNoticia(false)\r\n\r\n    }, [deletedNoticia, user])\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Row justify=\"center\" gutter={24}>\r\n                <Col {...tailFormItemLayout}>\r\n                    <Title level={3}>Mis noticias publicadas</Title>\r\n                </Col>\r\n            </Row>\r\n        {            \r\n            (!noticiasByUser) ? (<h1>Hola</h1>) : \r\n            (\r\n            <Table key={\"x\"} rowKey={record => record._id} dataSource={noticiasByUser}>\r\n                <Column title=\"Titulo de la Noticia\" dataIndex=\"titulo\" key=\"titulo\" />\r\n                <Column title=\"Aprobada\" dataIndex=\"noticiaAprobada\" key=\"noticiaAprobada\" \r\n                    render={(text, record) => (\r\n                        record.noticiaAprobada ? \"Si\" : \"no\"\r\n                    )}\r\n                    />\r\n                <Column\r\n                    title=\"Fecha para Publicar\"\r\n                    dataIndex=\"fechaParaPublicacion\"\r\n                    key=\"fechaParaPublicacion\"\r\n                    render={(text, record) => (\r\n                        moment(record.fechaParaPublicacion).format(dateFormat))\r\n                    }\r\n                />\r\n                <Column\r\n                title=\"Editar\"\r\n                key=\"editar\"\r\n                render={(text, record) => (\r\n                    <Space size=\"middle\">\r\n                        \r\n                        \r\n                        <Button type=\"primary\">\r\n                            <Link to={`/editNoticia/${record._id}`}>Editar Noticia</Link>\r\n                        </Button>\r\n                    </Space>\r\n                )}\r\n                />\r\n                <Column\r\n                title=\"Borrar\"\r\n                key=\"Borrar\"\r\n                render={(text, record) => (\r\n                    <Space size=\"middle\">\r\n                    <Button onClick={() => showDeleteConfirm(record)} danger type=\"dashed\">\r\n                        Borrar Noticia\r\n                    </Button>\r\n                    </Space>\r\n                )}\r\n                />\r\n            </Table>\r\n            )\r\n        }        \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListNoticias\r\n","import React, {useState, useEffect,forwardRef, useImperativeHandle} from 'react'\r\nimport { Form, Input, Row, Col, Typography, message } from \"antd\"\r\nimport {addComentarioService} from \"../services/comentario\"\r\n\r\nconst { TextArea } = Input;\r\nconst { Title } = Typography;\r\nconst successMsg = () => message.success('Se agrego el comentario satisfactoriamente');\r\n\r\nconst NewComment = forwardRef((props, ref) => {\r\n    const {noticiaId, titulo, closeModal, addedComment} = props;\r\n    const [form] = Form.useForm()\r\n    const [showErrors, setShowErrors] = useState(false)\r\n    const [showMsg, setShowMsg] = useState(\"\")\r\n\r\n    useImperativeHandle(\r\n        ref,\r\n        () => ({\r\n            showAlert() {\r\n                form.submit()\r\n            }\r\n         }),\r\n     )\r\n\r\n     useEffect(() => {\r\n        return function cleanup() {\r\n            console.log(\"dismount\")\r\n            form.resetFields([\"comentario\"])\r\n        };\r\n      });\r\n\r\n\r\n      async function submitFormFromChild(values){        \r\n        setShowErrors(false)\r\n        let result = await addComentarioService(noticiaId, values)\r\n        if(result.status === 201 || result.status === 200){\r\n            successMsg();\r\n            closeModal(false)\r\n            addedComment(true)\r\n        }\r\n        else\r\n        {\r\n            console.log(result)\r\n            setShowErrors(true)\r\n            setShowMsg(result.message)\r\n        }\r\n      }\r\n\r\n    return (\r\n\r\n        <>\r\n\r\n            <Form layout='vertical' form={form} onFinish={submitFormFromChild}>\r\n                  \r\n                <Form.Item\r\n                    name=\"comentario\"\r\n                    label={`Agrega un comentario a ${titulo}`}\r\n                    rules={[{ min: 10, message:\"Favor de escribir mas de 10 caracteres\" },{ required: true, message: 'Favor de escribir un comentario', whitespace: true }]}\r\n                >\r\n                    <TextArea allowClear rows={8}/>\r\n                </Form.Item>\r\n\r\n                <Row justify=\"center\">\r\n                    <Col xs={24} sm={12}>\r\n                        {showErrors && <Title level={5} type=\"warning\">{showMsg}</Title>}\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Form>\r\n        </>\r\n\r\n    )\r\n})\r\n\r\nexport default NewComment\r\n","import React from 'react'\r\nimport {Row, Col, Typography, Card, Divider} from \"antd\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { DateTime } from \"luxon\"\r\n\r\nconst { Title, Text } = Typography;\r\n\r\n const NewsDetalle = (props) => {\r\n\r\n    let noticia = props.news;\r\n\r\n    return (\r\n        <>\r\n            <Col sm={24} md={{span:16, offset:4}}>\r\n                    <Card \r\n                        style={{marginBottom:\"30px\", borderRadius:\"10px\"}}\r\n                        title={\r\n                            <Title level={2}>{noticia.titulo}</Title>\r\n                            } \r\n                        bordered={false}\r\n                        cover=\r\n                        {\r\n                            true ? (<div>Imagen</div>) :(<div>Video</div>)\r\n                        }\r\n                    \r\n                    >\r\n                        <Row gutter={[0, 50]}>\r\n                            <Col>\r\n                                <p style={{fontSize:\"16px\"}}>{noticia.contenido}</p>\r\n                            </Col>\r\n                        </Row>\r\n                        <Divider></Divider>\r\n                        <Row>\r\n                            <Col span={12}>\r\n                                <Text strong>Autor:</Text> {noticia.idUser.username}\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Text strong>Fecha de Publicacion:</Text> {DateTime.fromISO(noticia.fechaParaPublicacion).toLocaleString()}\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col span={12}>\r\n                                <Text strong>{noticia.idComentarios.length}</Text> comentario(s) \r\n                            </Col>\r\n                            <Col span={12}>\r\n                                <Text strong>Tipo de Noticia:</Text> {noticia.tipoNoticia}\r\n                            </Col>\r\n                        </Row>\r\n                    </Card>\r\n            </Col>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NewsDetalle;","import React from 'react'\r\nimport { Comment, Tooltip, Avatar, Row, Col } from 'antd';\r\nimport { DateTime } from \"luxon\"\r\n\r\nconst NewsComments = (props) => {\r\n\r\n    const comentario = props.values;\r\n\r\n    const styleCustom={\r\n        border: \"1px solid black\",\r\n        borderRadius: \"20px\",\r\n        padding: \"20px\",\r\n        background: \"white\",\r\n        marginBottom: \"20px\"\r\n    }\r\n\r\n\r\n    return (\r\n                <Col sm={24} md={{span:16, offset:4}}>     \r\n                <Comment\r\n                style={styleCustom}\r\n                author={<span style={{fontSize:\"16px\"}}>{comentario.idUser.username}</span>}\r\n                avatar={\r\n                    <Avatar className=\"extra\" shape=\"square\" size={64}\r\n                    src={comentario.idUser.profilePicture}\r\n                    alt={comentario.idUser.username}\r\n                    />\r\n                }\r\n                content={\r\n                    <p style={{fontSize:'16px'}}>\r\n                    {comentario.comentario}\r\n                    </p>\r\n                }\r\n                datetime={\r\n                    <Tooltip title={DateTime.fromISO(comentario.createdAt).toLocaleString(DateTime.DATETIME_SHORT)}>\r\n                        <span>{DateTime.local().toRelative({ base: DateTime.fromISO(comentario.createdAt) })}</span>\r\n                    </Tooltip>\r\n                }\r\n                />\r\n                </Col>\r\n    )\r\n}\r\n\r\nexport default NewsComments\r\n","import React, {useState, useEffect, useRef} from 'react'\r\nimport NewComment from \"../../components/NewComment\"\r\nimport {Button, Row, Col, Typography, Divider, Modal} from 'antd'; \r\nimport NewsDetalle from \"../../components/NewsDetalle\"\r\nimport NewsComments from \"../../components/NewsComments\"\r\nimport {getNoticiaService} from \"../../services/noticia\"\r\n\r\nconst { Title } = Typography;\r\n\r\nconst Noticia = (props) => {\r\n\r\n    const noticiaId = props.match.params.noticiaId;\r\n    const [currentNoticia, setCurrentNoticia] = useState(null)\r\n    const [showModalAgregar, setShowModalAgregar] = useState(false)\r\n    const [addedComment, setAddedComment] = useState(false)\r\n    const childRef = useRef();\r\n\r\n\r\n    useEffect(()=> {\r\n        async function getNoticia(){\r\n            let {data: result} = await getNoticiaService(noticiaId);\r\n            setCurrentNoticia(result)\r\n        }        \r\n        getNoticia()\r\n        setAddedComment(false)\r\n    }, [addedComment])\r\n\r\n\r\n    return (\r\n        (currentNoticia && currentNoticia.noticiaAprobada) ? (\r\n            <>\r\n\r\n                <NewsDetalle news={currentNoticia}/>                \r\n                \r\n                <Row gutter={[16,16]}>\r\n                    <Col sm={24} md={{span:16, offset:4}}>                    \r\n                        <Divider/>\r\n                    </Col>\r\n                </Row>\r\n\r\n                    <Row gutter={[16,16]}>\r\n                        <Col sm={24} md={{span:16, offset:4}}>                    \r\n                            <Button block type=\"primary\" onClick={() => setShowModalAgregar(true)}>\r\n                                Agrega un Comentario\r\n                            </Button>\r\n\r\n                            <Modal\r\n                                centered\r\n                                title={'Agrega Comentario a ' + currentNoticia.titulo}\r\n                                visible={showModalAgregar}\r\n                                onCancel={() => setShowModalAgregar(false)}\r\n                                onOk={() => {\r\n                                    childRef.current.showAlert()\r\n                                }}\r\n                                width={700}\r\n\r\n                            >\r\n                                <NewComment ref={childRef} \r\n                                            noticiaId={currentNoticia._id} \r\n                                            titulo={currentNoticia.titulo} \r\n                                            closeModal={setShowModalAgregar} \r\n                                            addedComment={setAddedComment} />\r\n                            </Modal>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    \r\n\r\n                <Row gutter={[16,16]}>\r\n                    <Col sm={24} md={{span:16, offset:4}}>                    \r\n                        <Divider/>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row gutter={[16,16]}>\r\n                    <Col sm={24} md={{span:16, offset:4}}>\r\n                        <Title level={4}>Comentarios</Title>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {currentNoticia.idComentarios.flat()?.map(comment => {                   \r\n                    return <NewsComments key={comment._id} values={comment}/>\r\n                })}\r\n\r\n            </>\r\n        )\r\n        :\r\n        (\r\n            (currentNoticia && !currentNoticia.noticiaAprobada) ?(\r\n            <>\r\n                <Row gutter={[16,16]}>\r\n                    <Col xs={24}>\r\n                        <h1>Esta noticia se esta cocinando...</h1>\r\n                    </Col>\r\n                </Row>\r\n            </> \r\n            )\r\n            :\r\n            (\r\n                <h1>Esta noticia se esta preparando...</h1>\r\n            )\r\n        )\r\n    )\r\n}\r\n\r\nexport default Noticia\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { Table, Space, Modal, Button, Row, Col, Typography, message} from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport {getAllNoticiasNotApprovedService, approveNoticiaService } from \"../../services/noticia\"\r\nimport { MyContext } from \"../../context\"\r\nimport { DateTime } from \"luxon\"\r\n\r\nconst { Column } = Table;\r\nconst { confirm } = Modal;\r\nconst { Title } = Typography;\r\nconst successMsg = () => message.success('Se aprobo la noticia satisfactoriamente');\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 12,\r\n      offset: 6,\r\n    },\r\n  },\r\n};\r\n\r\nconst approveNoticia = async (noticiaId) =>\r\n{\r\n    let result = await approveNoticiaService(noticiaId)\r\n    if(result.status === 200)\r\n        successMsg();\r\n    else\r\n    {\r\n        console.log(result)\r\n    }\r\n}\r\n\r\nconst AprobarNoticia = () => {\r\n\r\n\r\n    const [approvedNoticia, setApprovedNoticia] = useState(false)\r\n    const [noticiasNotApproved, setNoticiasNotApproved] = useState([]);\r\n    const { user } = useContext(MyContext)\r\n\r\n\r\n    function showApproveConfirm({titulo, _id: noticiaId}) {\r\n        confirm({\r\n          title: `Aprobar Noticia`,\r\n          icon: <ExclamationCircleOutlined />,\r\n          content: `Aprobar la noticia \"${titulo}\" para su publicacion?`,\r\n          okText: 'Si',\r\n          cancelText: 'No',\r\n          cancelType: 'Dashed',\r\n          centered: true,\r\n          onOk() {\r\n            approveNoticia(noticiaId)\r\n            setApprovedNoticia(true)\r\n          },\r\n          onCancel() {\r\n          },\r\n        });\r\n      }\r\n\r\n    useEffect(()=> {\r\n        async function getNoticiasNotApproved(){\r\n            let {data: { noticiasNotApproved}} = await getAllNoticiasNotApprovedService();\r\n            setNoticiasNotApproved(noticiasNotApproved)\r\n        }\r\n        \r\n        getNoticiasNotApproved()\r\n        setApprovedNoticia(false)\r\n\r\n    }, [approvedNoticia, user])\r\n\r\n\r\n    if(!user || (user && user.roleType !== \"Admin\"))\r\n    {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n    else{\r\n\r\n        return (<div>\r\n            <Row justify=\"center\" gutter={24}>\r\n                <Col {...tailFormItemLayout}>\r\n                    <Title level={3}>Mis noticias publicadas</Title>\r\n                </Col>\r\n            </Row>\r\n                 \r\n            <Table key={\"x\"} rowKey={record => record._id} dataSource={noticiasNotApproved}>\r\n                <Column title=\"Titulo de la Noticia\" dataIndex=\"titulo\" key=\"titulo\" />\r\n                <Column\r\n                    title=\"Fecha para Publicar\"\r\n                    dataIndex=\"fechaParaPublicacion\"\r\n                    key=\"fechaParaPublicacion\"\r\n                    render={(text, record) => (\r\n                        DateTime.fromISO(record.fechaParaPublicacion).toLocaleString()\r\n                    )\r\n                    }\r\n                />\r\n                <Column\r\n                title=\"Aprobar\"\r\n                key=\"Aprobar\"\r\n                render={(text, record) => (\r\n                    <Space size=\"middle\">\r\n                    <Button onClick={() => showApproveConfirm(record)} primary type=\"dashed\">\r\n                        Aprobar Noticia\r\n                    </Button>\r\n                    </Space>\r\n                )}\r\n                />\r\n            </Table>\r\n            \r\n                \r\n        </div>)\r\n    }\r\n\r\n}\r\n\r\nexport default AprobarNoticia\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { Table, Space, Modal, Button, Row, Col, Typography, message} from 'antd';\r\nimport { PlusOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport {getAllNoticiasDestacadasService } from \"../../services/noticia\"\r\nimport {addNoticiaDestacadaService, deleteNoticiaDestacada } from \"../../services/destacado\"\r\nimport { MyContext } from \"../../context\"\r\n\r\nconst { Column } = Table;\r\nconst { confirm } = Modal;\r\nconst { Title } = Typography;\r\nconst successMsg = () => message.success('Se agrego una noticia como destacada');\r\nconst successMsgDelete = () => message.success('Se elimino la noticia como destacada');\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 12,\r\n      offset: 6,\r\n    },\r\n  },\r\n};\r\n\r\nconst addNoticiaD = async (noticiaId) =>\r\n{\r\n    let result = await addNoticiaDestacadaService(noticiaId)\r\n    if(result.status === 200)\r\n        successMsg();\r\n    else\r\n    {\r\n        console.log(result)\r\n    }\r\n}\r\n\r\nconst deleteNoticiaD = async (destacadoId) =>\r\n{\r\n    let result = await deleteNoticiaDestacada(destacadoId)\r\n    if(result.status === 200)\r\n        successMsgDelete();\r\n    else\r\n    {\r\n        console.log(result)\r\n    }\r\n}\r\n\r\nconst DestacarNoticia = () => {\r\n\r\n\r\n    const [accionNoticia, setAccionNoticia] = useState(false)\r\n    const [noticiasDestacadas, setNoticiasDestacadas] = useState([]);\r\n    const { user } = useContext(MyContext)\r\n\r\n\r\n    function showAddConfirm({titulo, _id: noticiaId}) {\r\n        confirm({\r\n          title: `Destacar Noticia`,\r\n          icon: <PlusOutlined />,\r\n          content: `Destacar la noticia \"${titulo}\"?`,\r\n          okText: 'Si',\r\n          cancelText: 'No',\r\n          cancelType: 'Dashed',\r\n          centered: true,\r\n          onOk() {\r\n            addNoticiaD(noticiaId)\r\n            setAccionNoticia(true)\r\n          },\r\n          onCancel() {\r\n          },\r\n        });\r\n      }\r\n\r\n\r\n      function showDeleteConfirm({titulo, esDestacado}) {\r\n        confirm({\r\n          title: `Eliminar Noticia Destacada`,\r\n          icon: <ExclamationCircleOutlined />,\r\n          content: `Eliminar la noticia \"${titulo}\" como destacada?`,\r\n          okText: 'Si',\r\n          cancelText: 'No',\r\n          cancelType: 'Dashed',\r\n          centered: true,\r\n          onOk() {\r\n            let destacadoId = esDestacado?.[0]?._id;\r\n            deleteNoticiaD(destacadoId)\r\n            setAccionNoticia(true)\r\n          },\r\n          onCancel() {\r\n          },\r\n        });\r\n      }\r\n\r\n    useEffect(()=> {\r\n        async function getNoticiasNotApproved(){\r\n            let {data} = await getAllNoticiasDestacadasService();\r\n            setNoticiasDestacadas(data)\r\n        }\r\n        \r\n        getNoticiasNotApproved()\r\n        setAccionNoticia(false)\r\n\r\n    }, [accionNoticia, user])\r\n\r\n\r\n    if(!user || (user && user.roleType !== \"Admin\"))\r\n    {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n    else{\r\n\r\n        return (<div>\r\n            <Row justify=\"center\" gutter={24}>\r\n                <Col {...tailFormItemLayout}>\r\n                    <Title level={3}>Mis noticias publicadas</Title>\r\n                </Col>\r\n            </Row>\r\n                 \r\n            <Table key={\"x\"} rowKey={record => record._id} dataSource={noticiasDestacadas}>\r\n                <Column title=\"Titulo de la Noticia\" dataIndex=\"titulo\" key=\"titulo\" />\r\n                <Column\r\n                title=\"Accion\"\r\n                key=\"Accion\"\r\n                align=\"center\"\r\n                render={(text, record) => (\r\n                    <>\r\n                        {\r\n                            (record.esDestacado?.length === 0) ?\r\n                            (\r\n                                <Button onClick={() => showAddConfirm(record)} type=\"primary\">\r\n                                    Destacar Noticia\r\n                                </Button>\r\n                            )\r\n                            :\r\n                            (\r\n                                <Button onClick={() => showDeleteConfirm(record)} type=\"danger\">\r\n                                    Quitar Noticia Destacada\r\n                                </Button>\r\n                            )\r\n                            \r\n                        }\r\n                        \r\n                    </>\r\n                )}\r\n                />\r\n            </Table>\r\n            \r\n                \r\n        </div>)\r\n    }\r\n\r\n}\r\n\r\nexport default DestacarNoticia\r\n","import React from 'react';\nimport {BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\nimport LayoutApp from \"./components/LayoutApp\"\nimport './App.css';\n\nimport {\n  SignUp,\n  Login,\n  Home,\n  NewNoticia,\n  EditNoticia,\n  ListNoticias,\n  Noticia,\n  Profile,\n  AprobarNoticia,\n  DestacarNoticia\n} from \"./pages/index\"\n\n\nfunction App() {\n  return (\n    <Router>\n      <LayoutApp>\n        <Switch>\n          <Route exact path='/' component={Home} />\n          <Route exact path='/signup' component={SignUp} />\n          <Route exact path='/login' component={Login} />\n          <Route exact path='/profile' component={Profile} />\n          <Route exact path='/newNoticia' component={NewNoticia} />\n          <Route exact path='/editNoticia/:noticiaId' component={EditNoticia} />\n          <Route exact path='/listNoticias' component={ListNoticias} />\n          <Route exact path='/noticia/:noticiaId' component={Noticia} />\n          <Route exact path='/admin/aprobarNoticia' component={AprobarNoticia} />\n          <Route exact path='/admin/destacarNoticia' component={DestacarNoticia} />\n\n        </Switch>\n      </LayoutApp>\n  </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport \"antd/dist/antd.css\"\nimport Provider from \"./context\"\n\nReactDOM.render(\n  <Provider>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}